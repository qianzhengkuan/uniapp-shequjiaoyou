(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{"101d":function(t,n,e){"use strict";(function(t){e("d1f3"),e("921b");o(e("66fd"));var n=o(e("4911"));function o(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("6e42")["createPage"])},4911:function(t,n,e){"use strict";e.r(n);var o=e("9ba3"),i=e("e565");for(var s in i)"default"!==s&&function(t){e.d(n,t,(function(){return i[t]}))}(s);var a,u=e("f0c5"),c=Object(u["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],a);n["default"]=c.exports},"9ba3":function(t,n,e){"use strict";var o,i=function(){var t=this,n=t.$createElement;t._self._c},s=[];e.d(n,"b",(function(){return i})),e.d(n,"c",(function(){return s})),e.d(n,"a",(function(){return o}))},e565:function(t,n,e){"use strict";e.r(n);var o=e("fe4d"),i=e.n(o);for(var s in o)"default"!==s&&function(t){e.d(n,t,(function(){return o[t]}))}(s);n["default"]=i.a},fe4d:function(t,n,e){"use strict";(function(t,o){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=function(){e.e("components/uni-ui/uni-status-bar/uni-status-bar").then(function(){return resolve(e("6da8"))}.bind(null,e)).catch(e.oe)},s=function(){Promise.all([e.e("common/vendor"),e.e("components/common/other-login")]).then(function(){return resolve(e("ba2f"))}.bind(null,e)).catch(e.oe)},a={components:{uniStatusBar:i,otherLogin:s},data:function(){return{status:!1,username:"",password:"",phone:"",code:"",codeTime:0,loading:!1}},onLoad:function(){},computed:{disabled:function(){return!(""!==this.username&&""!==this.password||""!==this.phone&&""!==this.code)}},methods:{back:function(){t.navigateBack({delta:1})},initForm:function(){this.username="",this.password="",this.phone="",this.code=""},changeStatus:function(){this.initForm(),this.status=!this.status},getCode:function(){var n=this;this.codeTime>0||this.validate()&&this.$H.post("/user/sendcode",{phone:this.phone},{native:!0}).then((function(e){t.showToast({title:e.data.msg,icon:"none"}),n.codeTime=60;var o=setInterval((function(){n.codeTime>=1?n.codeTime--:(n.codeTime=0,clearInterval(o))}),1e3)}))},validate:function(){var n=/^1[34578]\d{9}$/;return!!n.test(this.phone)||(t.showToast({title:"手机号格式不正确",icon:"none"}),!1)},submit:function(){var n=this,e="",i="";if(this.status){if(!this.validate())return;e="/user/phonelogin",i={phone:this.phone,code:this.code}}else e="/user/login",i={username:this.username,password:this.password};this.loading=!0,this.$H.post(e,i).then((function(e){n.loading=!1,o("log",e," at pages\\login\\login.vue:184"),n.$store.commit("login",e),n.$store.dispatch("openSocket"),t.navigateBack({delta:1}),t.showToast({title:"登录成功",icon:"none"})})).catch((function(t){n.loading=!1}))}}};n.default=a}).call(this,e("6e42")["default"],e("0de9")["default"])}},[["101d","common/runtime","common/vendor"]]]);