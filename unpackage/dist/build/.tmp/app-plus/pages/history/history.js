(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/history/history","components/common/no-thing"],{1064:function(t,n){},3780:function(t,n,o){"use strict";o.r(n);var u=o("a1cd"),e=o("7851");for(var r in e)"default"!==r&&function(t){o.d(n,t,(function(){return e[t]}))}(r);var c,i=o("f0c5"),a=Object(i["a"])(e["default"],u["b"],u["c"],!1,null,null,null,!1,u["a"],c);n["default"]=a.exports},"4a87":function(t,n,o){"use strict";o.r(n);var u=o("1064"),e=o.n(u);for(var r in u)"default"!==r&&function(t){o.d(n,t,(function(){return u[t]}))}(r);n["default"]=e.a},"4c84":function(t,n,o){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;u(o("eedf"));function u(t){return t&&t.__esModule?t:{default:t}}var e=function(){Promise.all([o.e("common/vendor"),o.e("components/common/common-list")]).then(function(){return resolve(o("7993"))}.bind(null,o)).catch(o.oe)},r={components:{commonList:e},data:function(){return{list:[]}},onLoad:function(){var n=this,o=t.getStorageSync("history");o&&(this.list=JSON.parse(o)),t.$on("updateFollowOrSupport",(function(t){switch(t.type){case"follow":n.follow(t.data.user_id);break;case"support":n.doSupport(t.data);break}})),t.$on("updateCommentsCount",(function(t){var o=t.id,u=t.count;n.list.forEach((function(t){t.id===o&&(t.comment_count=u)}))}))},onUnload:function(){t.$off("updateFollowOrSupport",(function(t){})),t.$off("updateCommentsCount",(function(t){}))},onNavigationBarButtonTap:function(){var n=this;t.showModal({content:"是否要清除历史记录？",success:function(o){o.confirm&&(t.removeStorageSync("history"),n.list=[])}})},methods:{follow:function(n){this.list.forEach((function(t){t.user_id===n&&(t.isFollow=!0)})),t.showToast({title:"关注成功"})},doSupport:function(n){this.list.forEach((function(t){t.id===n.id&&(""===t.support.type?t.support[n.type+"_count"]++:"support"===t.support.type&&"unsupport"===n.type?(t.support.support_count--,t.support.unsupport_count++):"unsupport"===t.support.type&&"support"===n.type&&(t.support.support_count++,t.support.unsupport_count--),t.support.type=n.type)}));var o="support"===n.type?"顶":"踩";t.showToast({title:o+"成功"})}}};n.default=r}).call(this,o("6e42")["default"])},"4fc7":function(t,n,o){"use strict";(function(t){o("d1f3"),o("921b");u(o("66fd"));var n=u(o("3780"));function u(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,o("6e42")["createPage"])},"5d89":function(t,n,o){"use strict";var u,e=function(){var t=this,n=t.$createElement;t._self._c},r=[];o.d(n,"b",(function(){return e})),o.d(n,"c",(function(){return r})),o.d(n,"a",(function(){return u}))},7851:function(t,n,o){"use strict";o.r(n);var u=o("4c84"),e=o.n(u);for(var r in u)"default"!==r&&function(t){o.d(n,t,(function(){return u[t]}))}(r);n["default"]=e.a},a1cd:function(t,n,o){"use strict";var u,e=function(){var t=this,n=t.$createElement;t._self._c},r=[];o.d(n,"b",(function(){return e})),o.d(n,"c",(function(){return r})),o.d(n,"a",(function(){return u}))},eedf:function(t,n,o){"use strict";o.r(n);var u=o("5d89"),e=o("4a87");for(var r in e)"default"!==r&&function(t){o.d(n,t,(function(){return e[t]}))}(r);var c,i=o("f0c5"),a=Object(i["a"])(e["default"],u["b"],u["c"],!1,null,null,null,!1,u["a"],c);n["default"]=a.exports}},[["4fc7","common/runtime","common/vendor"]]]);