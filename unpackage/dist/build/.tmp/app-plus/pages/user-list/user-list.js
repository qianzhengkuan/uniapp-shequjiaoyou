(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user-list/user-list"],{"4a00":function(t,n,e){"use strict";(function(t,r){function o(t){return u(t)||s(t)||i(t)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(t,n){if(t){if("string"===typeof t)return c(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?c(t,n):void 0}}function s(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function u(t){if(Array.isArray(t))return c(t)}function c(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var f=function(){e.e("components/common/load-more").then(function(){return resolve(e("ba05"))}.bind(null,e)).catch(e.oe)},l=function(){e.e("components/common/no-thing").then(function(){return resolve(e("eedf"))}.bind(null,e)).catch(e.oe)},d=function(){e.e("components/user-list/user-list").then(function(){return resolve(e("8b5a"))}.bind(null,e)).catch(e.oe)},h=function(){e.e("components/uni-ui/uni-nav-bar/uni-nav-bar").then(function(){return resolve(e("12b7"))}.bind(null,e)).catch(e.oe)},m={components:{loadMore:f,noThing:l,userList:d,uniNavBar:h},data:function(){return{scrollH:600,tabIndex:0,tabBars:[{name:"互关",num:0,key:"friends"},{name:"关注",num:0,key:"follows"},{name:"粉丝",num:0,key:"fens"}],newsList:[]}},onNavigationBarSearchInputClicked:function(){this.openSearch()},onNavigationBarButtonTap:function(){t.navigateBack({delta:1})},onLoad:function(){var n=this;t.getSystemInfo({success:function(e){n.scrollH=e.windowHeight-t.upx2px(100)}}),this.getData()},filters:{formatNum:function(t){return t>99?"99+":t}},methods:{openSearch:function(){t.navigateTo({url:"../search/search?type=user"})},getCounts:function(){var t=this;this.$H.get("/user/getcounts/"+this.user.id,{},{token:!0,notoast:!0}).then((function(n){t.tabBars[0].num=n.friend_count,t.tabBars[1].num=n.withfollow_count,t.tabBars[2].num=n.withfen_count}))},getData:function(){for(var t=[],n=0;n<this.tabBars.length;n++){var e={loadmore:"上拉加载更多",list:[],page:1,firstLoad:!1};t.push(e)}this.newsList=t,this.getList()},getList:function(){var t=this,n=this.tabIndex,e=(this.tabBars[n].id,this.newsList[n].page),a=1===e;this.$H.get("/"+this.tabBars[n].key+"/"+e,{},{token:!0,noCheck:!0}).then((function(e){r("log",e," at pages\\user-list\\user-list.vue:159");var i=e.list.map((function(t){return{id:t.id,avatar:t.userpic,username:t.username,sex:t.userinfo.sex,age:t.userinfo.age,isFollow:2!==n}}));t.newsList[n].list=a?i:[].concat(o(t.newsList[n].list),o(i)),t.newsList[n].loadmore=i.length<10?"没有更多了":"上拉加载更多",a&&(t.newsList[n].firstLoad=!0)})).catch((function(e){a||t.newsList[n].page--}))},changeTab:function(t){this.tabIndex=t},onChangeTab:function(t){this.changeTab(t.detail.current),this.newsList[t.detail.current].firstLoad||this.getList()},loadmore:function(t){var n=this.newsList[t];"上拉加载更多"===n.loadmore&&(n.loadmore="加载中...",n.page++,this.getList())},goBack:function(){t.navigateBack({delta:1})}}};n.default=m}).call(this,e("6e42")["default"],e("0de9")["default"])},"74a9":function(t,n,e){"use strict";(function(t){e("d1f3"),e("921b");r(e("66fd"));var n=r(e("b408"));function r(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("6e42")["createPage"])},"9bfc":function(t,n,e){"use strict";var r={"user-list":function(){return e.e("components/user-list/user-list").then(e.bind(null,"8b5a"))}},o=function(){var t=this,n=t.$createElement,e=(t._self._c,t.__map(t.tabBars,(function(n,e){var r=t._f("formatNum")(n.num);return{$orig:t.__get_orig(n),f0:r}})));t.$mp.data=Object.assign({},{$root:{l0:e}})},a=[];e.d(n,"b",(function(){return o})),e.d(n,"c",(function(){return a})),e.d(n,"a",(function(){return r}))},b408:function(t,n,e){"use strict";e.r(n);var r=e("9bfc"),o=e("b6c1");for(var a in o)"default"!==a&&function(t){e.d(n,t,(function(){return o[t]}))}(a);var i,s=e("f0c5"),u=Object(s["a"])(o["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],i);n["default"]=u.exports},b6c1:function(t,n,e){"use strict";e.r(n);var r=e("4a00"),o=e.n(r);for(var a in r)"default"!==a&&function(t){e.d(n,t,(function(){return r[t]}))}(a);n["default"]=o.a}},[["74a9","common/runtime","common/vendor"]]]);